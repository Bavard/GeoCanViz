(function(){define([],function(){var b,d,c=new esri.tasks.ProjectParameters(),a;b=function(f,h,g){var e=new esri.SpatialReference({wkid:g.outwkid});if(typeof a==="undefined"){a=new esri.tasks.GeometryService(g.urlgeomserv)}c.geometries=[f];c.outSR=e;a.project(c,function(i){f=i[0];dojo.byId(h).innerHTML=" Lat: "+f.y.toFixed(3)+" Long: "+f.x.toFixed(3)})};d=function(g,i,f){var e=new esri.SpatialReference({wkid:4326}),h=new esri.geometry.Point((g.xmin+g.xmax)/2,g.ymin,new esri.SpatialReference({wkid:f.inwkid}));c.geometries=[h];c.outSR=e;a.project(c,function(n){var k={x:-100,y:90},l,p,o,j,q,m;h=n[0];l=(h.x-k.x)*Math.PI/180;p=k.y*Math.PI/180;o=h.y*Math.PI/180;q=Math.sin(l)*Math.cos(o);j=Math.cos(p)*Math.sin(o)-Math.sin(p)*Math.cos(o)*Math.cos(l);m=Math.atan2(q,j)*180/Math.PI;m=((m+360)%360).toFixed(1)-90;dojo.byId(i).style.webkitTransform="rotate("+m+"deg)";dojo.byId(i).style.MozTransform="rotate("+m+"deg)";dojo.byId(i).style.msTransform="rotate("+m+"deg)";dojo.byId(i).style.OTransform="rotate("+m+"deg)";dojo.byId(i).style.transform="rotate("+m+"deg)"})};return{getCoord:b,getNorthAngle:d}})}());