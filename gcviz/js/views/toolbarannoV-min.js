(function(){define(["gcviz-vm-tbanno","dijit/TitlePane","gcviz-i18n"],function(c,b,d){var a;a=function(h){var g,f=h.toolbaranno,e=h.mapframe.id,j,i="";j=new b({id:"tbanno"+e,title:"Annotation",content:'<div class="gcviz-tbanno-content gcviz-tbcontent"></div>',open:false});h.find(".gcviz-tbholder").append(j.domNode);j.startup();j.domNode.getElementsByClassName("dijitTitlePaneTitleFocus")[0].setAttribute("tabindex","1");g=h.find(".gcviz-tbanno-content");if(f.drawline.enable){i+='<button class="gcviz-button" tabindex="1" data-bind="click: drawClick, tooltip: { content: tpDraw }"><img class="gcviz-img-button" data-bind="attr:{src: imgDraw}"></img></button>'}if(f.drawtext.enable){i+='<button class="gcviz-button" tabindex="1" data-bind="click: textClick, tooltip: { content: tpText }"><img class="gcviz-img-button" data-bind="attr:{src: imgText}"></img></button>';if($("#gcviz-anno-inputbox").length===0){$("body").prepend('<div id="gcviz-anno-inputbox"><form><fieldset><label for="value">'+d.getDict("%toolbaranno-inputbox-label")+'</label> <input id="value" class="text ui-widget-content ui-corner-all"/></fieldset></form></div>')}}i+='<button class="gcviz-button" tabindex="1" data-bind="click: eraseClick, tooltip: { content: tpErase }"><img class="gcviz-img-button" data-bind="attr:{src: imgErase}"></img></button>';if(f.measure.enable){i+='<button class="gcviz-button" tabindex="1" data-bind="click: measureClick"><img class="gcviz-img-button" data-bind="attr:{src: imgMeasure}"></img></button>'}if(f.importexport.enable){i+='<button class="gcviz-button" tabindex="1" data-bind="click: importClick"><img class="gcviz-img-button" data-bind="attr:{src: imgImport}"></img></button>';i+='<button class="gcviz-button" tabindex="1" data-bind="click: exportClick"><img class="gcviz-img-button" data-bind="attr:{src: imgExport}"></img></button>'}g.append(i);c.initialize(g,e)};return{initialize:a}})}).call(this);