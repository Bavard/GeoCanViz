(function(){define(["dojo/dom","dojo/dom-style","knockout","gcviz-gismap"],function(e,c,b,d){var a;a=function(f){var h=[];var g=function(l){var i=this,k=l.mapframe,j;i.init=function(){var o=k.map.length,r=l.mapframe.id;while(o--){var u=k.map[o],s=u.layers.length,m=u.layers,q=$("#"+r+"_"+o),p,t;j=d.createMap(r+"_"+o,u);m=m.reverse();while(s--){var n=m[s];d.addLayer(j,n.type,n.url)}q.on("mouseenter mouseleave focusin focusout",function(w){var v=w.type;if(v==="mouseenter"||v==="focusin"){this.focus()}else{if(v==="mouseleave"||v==="focusout"){this.blur()}}});j.on("load",function(v){v.map.resize();j.enableScrollWheelZoom();j.enableKeyboardNavigation();j.isZoomSlider=false});p=$("#"+r+"_"+o+"_root");t=$("#"+r+"_"+o+"_container");q.addClass("gcviz-map");p.addClass("gcviz-root");t.addClass("gcviz-container");t.css("cursor","");i.focus();h.push(j)}return{controlsDescendantBindings:true}};i.focus=function(){i.mapfocus=b.observable();i.mapfocus.focused=b.observable();i.mapfocus.focused.subscribe(function(m){if(!m){}})};i.init()};b.applyBindings(new g(f),f[0]);return h};return{initialize:a}})}).call(this);